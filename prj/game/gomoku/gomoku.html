<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta http-equiv="Expires" CONTENT="0">
<meta http-equiv="Cache-Control" CONTENT="no-cache">
<meta http-equiv="Pragma" CONTENT="no-cache">
<link rel="apple-touch-icon" href="img/icon.png" />
<link rel="icon" type="image/png" href="img/icon.png" />
<meta name="viewport"
	content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width" />
<script type="text/javascript" src="../../lib/jquery-1.9.js"></script>
<script type="text/javascript" src="../../../hotjs/hotjs.js"></script>
<script type="text/javascript" src="../../../hotjs/social.js"></script>
<script type="text/javascript" src="../../../hotjs/resource.js"></script>
<script type="text/javascript" src="goboard.js"></script>
<script type="text/javascript" src="goplayer.js"></script>
<style type="text/css">
html, body {
	width: 100%;
	height: 100%;
	overflow: hidden;
	margin: 0;
	padding: 0;
}
div#mainView {
	display: inline-block;
	border: solid green 0px;
	margin: 0px;
	padding: 0px;
	-moz-border-radius: 10px;
    -webkit-border-radius: 10px;
    -khtml-border-radius: 10px;
    border-radius: 10px;	
}
div#user1 {
	left: 3px;
	top: 4px;
	display: inline-block;
	position: absolute;
	border: solid black 2px;
	margin: 0px;
	padding: 5px;
	background: #669966;
	opacity:0.9;
	-moz-border-radius: 10px;
    -webkit-border-radius: 10px;
    -khtml-border-radius: 10px;
    border-radius: 10px;	
}
div#user2 {
	right: 3px;
	top: 4px;
	display: inline-block;
	position: absolute;
	border: solid black 2px;
	margin: 0px;
	padding: 5px;
	background: #669966;
	opacity:0.9;	
	-moz-border-radius: 10px;
    -webkit-border-radius: 10px;
    -khtml-border-radius: 10px;
    border-radius: 10px;	
}
div#control {
	display: inline-block;
	position: absolute;
	border: solid green 0px;
	margin: 0px;
	padding: 10px;
	top: 4px;
	right: 120px;
}
div#menu {
	display: inline-block;
	position: absolute;
	border: solid green 0px;
	margin: 0px;
	padding: 0px;
	bottom: 0px;
	left: 0px;
	right: 0px;
	text-align: center;
	color: #aaaaaa;
	background: #333333;
}
input.btn {
	width: 100px;
}
img {
	v-space: 0px;
	padding-bottom: 0px;
}
table {
	width: 100%;
	padding: 0;
	margin: 0;
	text-align: center;
	border: solid green 0px;
}
td.m {
	width: 20%;
}
</style>
</head>
<body>
<div>
<div id="mainView"></div>

<div id="user1">
<table>
<tr><td align='left' colspan=2>级别: 6<br>金币: $ 1500</td></tr>
<tr><td><img src='img/user1.png'><br>曹操</td><td><img width=32 src='img/whitego.png'/></td></tr>
</table>
</div>

<div id="user2">
<table>
<tr><td align='left' colspan=2>级别: 7<br>金币: $ 2100</td></tr>
<tr><td><img width=32 src='img/blackgo.png'/></td><td><img src='img/user2.png'><br>刘备</td></tr>
</table>
</div>

<div id="control">
<table>
<tr><td><img width=32 src='img/undo.png' onClick='board.undo();'/><br>悔棋</td></tr>
<tr><td><img width=32 src='img/tips.png' onClick=''/><br>提示</td></tr>
</table>
</div>

<div id='menu'>
<table>
<tr>
<td class='m'><img width=32 src='img/menu.png'/><br>菜单</td>
<td class='m'><img width=32 src='img/games.png'/><br>微游</td>
<td class='m'><img width=32 src='img/msg.png'/><br>聊天</td>
<td class='m'><img width=32 src='img/friends.png'/><br>朋友们</td>
<td class='m'><img width=32 src='img/settings.png'/><br>设置</td>
</tr></table>
</div>

</div>
<script>

//var api_url = "http://cloud.rnjsoft.com/sns/gomoku/api.inf";
var api_url = '../../sns/gomoku/api.inf';

var viewX;
var board;
var netplay;

function main() {
	var w = window.innerWidth, h = window.innerHeight;
	h -= $("#menu").height();
	
	var m = Math.min(w,h);
	
	var v = document.getElementById('mainView');
	v.style.width = w;
	v.style.height = h;
	
	if( h > w ) {
		var btn_w = w / 4;
		var btn_h = (h-m)/2 / 7;
		$(".btn").css('font-size', btn_h + 'pt');
	} else {
		
	}
	
	viewX = (new hotjs.View())
		.setContainer('mainView')
		.setSize(w,h)
		.showFPS(false);

	board = (new GoBoard(19))
		.setSize(w, h)
		.setColor("black").showGrid(false)
		.setBgImage( true, resources.get('img/woodfloor.jpg') )
		.setAreaImage( true, resources.get('img/wood.jpg') )
		.setGoImage( resources.get('img/gostones.png'), [0,0,128,128] )
		.showImg(true)
		.setDraggable(true).setMoveable(true).setZoomable(true)
		.resetGame()
		.addTo( viewX );
	
	var app = (new hotjs.App()).addNode(viewX).start();
	
}

resources.load([
                'img/woodfloor.jpg',
                'img/wood.jpg',
                'img/gostones.png',
                'audio/move.mp3'
        	]);

resources.onReady( main );

</script>
</body>

</html>
